/* ═══════════════════════════════════════════════════
   Product Detail — Sharp-Edge Premium Editorial v2
   Refined to match Reference UI
   ═══════════════════════════════════════════════════ */

.product-detail-page {
    min-height: 100vh;
    padding-top: 80px;
}

.product-detail {
    background: var(--color-bg-dark);
    padding-top: 0 !important;
    padding-bottom: var(--spacing-xl) !important;
}

/* ── Layout Grid ── */
.product-detail-grid {
    display: grid;
    grid-template-columns: 1.2fr 1fr;
    gap: 4rem;
    align-items: start;
}

/* ══════════════════════════════════════
   Image Section
   ══════════════════════════════════════ */
.product-image-section {
    position: sticky;
    top: 100px;
}

.product-image-viewport {
    position: relative;
    overflow: hidden;
    background: #f7f5f2;
    border: 1px solid rgba(0, 0, 0, 0.08);
}

.product-main-image {
    width: 100%;
    max-height: 80vh;
    object-fit: contain;
    object-position: center;
    display: block;
    background: #f7f5f2;
}

/* Smooth crossfade + slide animation */
.animate-image-in {
    animation: imageReveal 0.45s cubic-bezier(0.22, 1, 0.36, 1) both;
}

@keyframes imageReveal {
    0% {
        opacity: 0;
        transform: translateX(16px);
    }

    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

/* ── Image Navigation Arrows ── */
.image-nav-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 44px;
    height: 44px;
    border: 1px solid rgba(0, 0, 0, 0.1);
    background: rgba(255, 255, 255, 0.95);
    color: var(--color-text-primary);
    font-size: 1.6rem;
    line-height: 1;
    cursor: pointer;
    opacity: 0;
    transition: all 0.3s ease;
    z-index: 5;
    display: flex;
    align-items: center;
    justify-content: center;
}

.product-image-viewport:hover .image-nav-btn {
    opacity: 1;
}

.image-nav-btn:hover {
    background: var(--color-text-primary);
    color: #fff;
    border-color: var(--color-text-primary);
}

.image-nav-prev {
    left: 0;
    border-left: 0;
}

.image-nav-next {
    right: 0;
    border-right: 0;
}

/* ── Thumbnails ── */
.product-thumbnails {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
    overflow-x: auto;
    padding-bottom: 4px;
}

.product-thumbnails::-webkit-scrollbar {
    height: 2px;
}

.product-thumbnails::-webkit-scrollbar-thumb {
    background: var(--color-gold);
}

.thumbnail-btn {
    flex-shrink: 0;
    width: 80px;
    height: 80px;
    overflow: hidden;
    border: 1px solid transparent;
    cursor: pointer;
    transition: all 0.2s ease;
    padding: 0;
    background: #f7f5f2;
}

.thumbnail-btn img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.thumbnail-btn:hover {
    border-color: var(--color-text-muted);
}

.thumbnail-btn.active {
    border-color: var(--color-text-primary);
    border-width: 2px;
}

/* ══════════════════════════════════════
   Product Info — Reference Style
   ══════════════════════════════════════ */
.product-info-section {
    padding-top: 1rem;
}

.product-info-card {
    /* Cleaner look, no box shadow, just pure layout */
    background: transparent;
    padding: 0;
}

/* ── Header Row (Badge + Stock) ── */
.product-header-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.product-badge-pill {
    background: #dbeafe;
    color: #1e40af;
    font-family: var(--font-primary);
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: 0.35rem 0.75rem;
    border-radius: 4px;
    /* Slight rounding for pill look, or keep sharp: 0 */
}

/* Stock Status */
.product-stock-status {
    font-family: var(--font-primary);
    font-size: 0.82rem;
    font-weight: 600;
    color: #16a34a;
    /* Green */
    display: flex;
    align-items: center;
    gap: 0.4rem;
}

.product-stock-status.out-of-stock {
    color: #ef4444;
    /* Red */
}

.stock-dot {
    width: 6px;
    height: 6px;
    background: #16a34a;
    border-radius: 50%;
}

.product-stock-status.out-of-stock .stock-dot {
    background: #ef4444;
}

/* ── Product Title ── */
.product-title {
    font-family: var(--font-display);
    font-size: 2.8rem;
    font-weight: 700;
    color: var(--color-text-primary);
    line-height: 1.15;
    margin-bottom: 0.75rem;
    letter-spacing: -0.02em;
}

/* ── Meta Row (Stars | Reviews) ── */
.product-meta-row {
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.review-stars {
    color: #fbbf24;
    /* Gold Star Color */
    font-size: 1.1rem;
    letter-spacing: 2px;
}

.review-count {
    color: var(--color-text-muted);
    font-size: 0.9rem;
    font-weight: 500;
    margin-left: 0.5rem;
    border-left: 1px solid rgba(0, 0, 0, 0.15);
    padding-left: 0.75rem;
    font-family: var(--font-primary);
}

/* ── Pricing ── */
.product-pricing-detail {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.product-price-large {
    font-family: var(--font-display);
    font-size: 2rem;
    font-weight: 700;
    color: var(--color-primary);
    /* Blue/Primary Brand Color */
}

.product-original-price-large {
    font-family: var(--font-primary);
    font-size: 1.2rem;
    color: var(--color-text-muted);
    text-decoration: line-through;
}

/* ── Short Description ── */
.product-short-desc {
    font-family: var(--font-primary);
    font-size: 1rem;
    line-height: 1.6;
    color: var(--color-text-secondary);
    margin-bottom: 2rem;
    max-width: 90%;
}

/* ── Divider ── */
.product-divider {
    border: none;
    height: 1px;
    background: rgba(0, 0, 0, 0.06);
    margin: 2rem 0;
}

/* ── Options ── */
.product-options {
    margin-bottom: 1.8rem;
}

.product-options label {
    display: block;
    font-family: var(--font-primary);
    font-weight: 700;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    margin-bottom: 0.8rem;
    color: var(--color-text-primary);
}

/* Color Circles */
.color-options {
    display: flex;
    gap: 0.75rem;
}

.color-btn {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: 1px solid rgba(0, 0, 0, 0.1);
    cursor: pointer;
    font-size: 0;
    /* Hide text */
    position: relative;
    background-clip: content-box;
    padding: 2px;
    transition: all 0.2s;
}

/* We need to actually set background color based on the text color name or map it.
   For now since we don't have style prop passed, we rely on the button text or inline style.
   Ideally logic would inject style={{backgroundColor: color}}
   Assuming 'white' 'black' 'blue' text works for standard colors, but for Vatsala simplified: */
.color-btn {
    background-color: #eee;
    /* Fallback */
}

/* Active state ring */
.color-btn.active {
    border: 1px solid var(--color-text-primary);
    padding: 4px;
    /* Inner gap */
}

/* Size Rectangles */
.size-options {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
}

.size-btn {
    min-width: 48px;
    height: 48px;
    padding: 0 1.2rem;
    border: 1px solid rgba(0, 0, 0, 0.12);
    background: transparent;
    color: var(--color-text-primary);
    font-family: var(--font-primary);
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.size-btn:hover {
    border-color: var(--color-text-primary);
}

.size-btn.active {
    background: #eef2ff;
    /* Very light blue tint */
    border-color: var(--color-primary);
    color: var(--color-primary);
}

/* ── Actions Row (Big Cart + Small Heart) ── */
.product-actions-row {
    display: flex;
    gap: 1rem;
    margin-top: 2.5rem;
    margin-bottom: 3rem;
    height: 56px;
}

.btn-block {
    flex: 1;
    height: 100%;
    font-family: var(--font-primary);
    font-size: 1rem;
    font-weight: 700;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.2s;
}

.btn-primary {
    background: #1d4ed8;
    /* Strong Blue Reference */
    color: white;
    border: none;
}

.btn-primary:hover {
    background: #1e40af;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(29, 78, 216, 0.3);
}

.btn-success {
    background: #10b981;
    color: white;
    border: none;
    cursor: default;
}

.btn-remove-cart {
    background: white;
    border: 2px solid #ef4444;
    color: #ef4444;
}

.btn-remove-cart:hover {
    background: #fef2f2;
}


.wishlist-icon-btn {
    width: 56px;
    height: 56px;
    border: 1px solid rgba(0, 0, 0, 0.1);
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.4rem;
    cursor: pointer;
    transition: all 0.2s;
    color: var(--color-text-secondary);
}

.wishlist-icon-btn:hover {
    border-color: var(--color-text-primary);
    background: #f9f9f9;
}

/* ── Trust Grid ── */
.product-trust-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem 2rem;
    background: #f8fafc;
    /* Very light cool gray bg */
    padding: 1.5rem;
    border-radius: 4px;
    /* Slight rounding or 0 */
}

.trust-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-family: var(--font-primary);
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--color-text-primary);
}

.trust-icon {
    font-size: 1.2rem;
}

/* ── Description HTML ── */
.product-description-html {
    font-family: var(--font-primary);
    font-size: 1rem;
    line-height: 1.8;
    color: var(--color-text-secondary);
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
}

/* ── Responsive ── */
@media (max-width: 1024px) {
    .product-detail-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
    }

    .product-image-section {
        position: relative;
        top: 0;
    }
}

@media (max-width: 768px) {
    .product-title {
        font-size: 2rem;
    }

    .product-actions-row {
        flex-direction: column;
        height: auto;
    }

    .btn-block {
        height: 54px;
        width: 100%;
    }

    .wishlist-icon-btn {
        width: 100%;
        height: 48px;
        border: none;
        background: transparent;
        justify-content: flex-start;
        padding: 0;
        font-size: 1rem;
        gap: 0.5rem;
    }

    .wishlist-icon-btn:after {
        content: "Add to Wishlist";
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.85rem;
    }
}

/* ── Mobile Layout & Details Dropdown ── */
.mobile-header-section {
    display: none;
    /* Hidden on Desktop */
}

.desktop-header-elements {
    display: block;
}

/* Details Dropdown */
.product-details-dropdown {
    margin-bottom: 2rem;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.product-details-dropdown details summary {
    padding: 1rem 0;
    cursor: pointer;
    font-family: var(--font-primary);
    font-weight: 600;
    font-size: 1rem;
    list-style: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.product-details-dropdown details summary::-webkit-details-marker {
    display: none;
}

.product-details-dropdown details summary::after {
    content: '+';
    font-size: 1.2rem;
    font-weight: 400;
}

.product-details-dropdown details[open] summary::after {
    content: '−';
}

.product-details-dropdown .details-content {
    padding-bottom: 1rem;
    color: var(--color-text-secondary);
    line-height: 1.6;
    font-size: 0.95rem;
}

/* ── Responsive Mobile ── */
@media (max-width: 768px) {
    .product-detail-grid {
        display: flex;
        flex-direction: column;
        gap: 0;
    }

    .mobile-header-section {
        display: block;
        margin-bottom: 0.5rem;
        /* Tighter spacing */
    }

    .desktop-header-elements {
        display: none;
    }

    /* 
       Flow: 
       1. Mobile Header (Title, Badge, Reviews) - Order 0 (default)
       2. Image Section - Order 1 (default)
       3. Info Section (Price, Details, Options) - Order 2 (default)
    */

    .product-image-section {
        margin-bottom: 1.5rem;
        width: 100%;
        margin-left: 0;
        margin-right: 0;
    }

    .product-image-viewport {
        border-left: 0;
        border-right: 0;
    }

    .product-main-image {
        max-height: 50vh;
        object-fit: cover;
        width: 100%;
    }

    .product-details-dropdown {
        margin-top: 1rem;
    }
}

/* ── Quantity ── */
.product-quantity {
    margin-bottom: 2rem;
}

.product-quantity label {
    display: block;
    font-family: var(--font-primary);
    font-weight: 700;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    margin-bottom: 0.8rem;
    color: var(--color-text-primary);
}

.quantity-selector {
    display: inline-flex;
    align-items: center;
    border: 1px solid rgba(0, 0, 0, 0.15);
    background: white;
}

.quantity-selector button {
    width: 44px;
    height: 44px;
    background: transparent;
    border: none;
    font-size: 1.2rem;
    color: var(--color-text-primary);
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.quantity-selector button:hover {
    background: #f3f4f6;
    color: var(--color-primary);
}

.quantity-selector span {
    width: 50px;
    text-align: center;
    font-family: var(--font-primary);
    font-weight: 600;
    font-size: 1rem;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    border-right: 1px solid rgba(0, 0, 0, 0.1);
    height: 44px;
    line-height: 44px;
}